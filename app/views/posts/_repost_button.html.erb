<% unless post.reposted_by_user?(current_user) %>
  <%= button_to(Repost.new, {class: "btn pb-0 align-items-end d-flex flex-row mr-4", style: "font-size: 13px;color: #666;", params: {'repost[user_id]' => current_user.id, 'repost[post_id]' => post.id}}) do %>
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 8 8" class="mr-1" style="<%= action_icon_color(:repost, post, current_user, '#009688') %>">
      <path d="M6 0v1h-5c-.55 0-1 .45-1 1v1h1v-1h5v1l2-1.5-2-1.5zm-4 4l-2 1.5 2 1.5v-1h5c.55 0 1-.45 1-1v-1h-1v1h-5v-1z" transform="translate(0 -0.5)"/>
    </svg>
    <%= post.reposts.count %>
  <% end %>
<% else %>
  <%= button_to(Repost.find_by(user: current_user, post: post), {method: :delete, class: "btn pb-0 align-items-end d-flex flex-row mr-4", style: "font-size: 13px;color: #666;"}) do %>
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 8 8" class="mr-1" style="<%= action_icon_color(:repost, post, current_user, '#009688') %>">
      <path d="M6 0v1h-5c-.55 0-1 .45-1 1v1h1v-1h5v1l2-1.5-2-1.5zm-4 4l-2 1.5 2 1.5v-1h5c.55 0 1-.45 1-1v-1h-1v1h-5v-1z" transform="translate(0 -0.5)"/>
    </svg>
    <%= post.reposts.count %>
  <% end %>
<% end %>